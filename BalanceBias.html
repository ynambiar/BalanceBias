<!-- this program extracts the score for id
# averages id -->

<!DOCTYPE html>
<html>
    <head>
        <script>
            var sentimentJSON = {
                                   "odata.metadata": "https://api.datamarket.azure.com/data.ashx/amla/text-analytics/v1/$metadata#Microsoft.Azure.MachineLearning.TextAnalytics.FrontEndService.Models.SentimentBatchResult",
                                    "SentimentBatch": [
                                        {
                                            "Score": 0.1978752,
                                            "Id": "0"
                                        },
                                        {
                                            "Score": 0.8739583,
                                            "Id": "1"
                                        },
                                        {
                                            "Score": 0.3086671,
                                            "Id": "2"
                                        },
                                        {
                                            "Score": 0.3071437,
                                            "Id": "3"
                                        },
                                        {
                                            "Score": 0.8842589,
                                            "Id": "4"
                                        },
                                        {
                                            "Score": 0.5112257,
                                            "Id": "5"
                                        },
                                        {
                                            "Score": 0.4096405,
                                            "Id": "6"
                                        },
                                        {
                                            "Score": 0.7068422,
                                            "Id": "7"
                                        },
                                        {
                                            "Score": 0.2555983,
                                            "Id": "8"
                                        },
                                        {
                                            "Score": 0.4872026,
                                            "Id": "9"
                                        },
                                        {
                                            "Score": 0.730531,
                                            "Id": "10"
                                        },
                                        {
                                            "Score": 0.7105169,
                                            "Id": "11"
                                        },
                                        {
                                            "Score": 0.3536915,
                                            "Id": "12"
                                        },
                                        {
                                            "Score": 0.5421939,
                                            "Id": "13"
                                        },
                                        {
                                            "Score": 0.2688739,
                                            "Id": "14"
                                        },
                                        {
                                            "Score": 0.2223187,
                                            "Id": "15"
                                        },
                                        {
                                            "Score": 0.2416844,
                                            "Id": "16"
                                        },
                                        {
                                            "Score": 0.4960528,
                                            "Id": "17"
                                        },
                                        {
                                            "Score": 0.9819353,
                                            "Id": "18"
                                        },
                                        {
                                            "Score": 0.6218477,
                                            "Id": "19"
                                        },
                                        {
                                            "Score": 0.246032,
                                            "Id": "20"
                                        },
                                        {
                                            "Score": 0.7444314,
                                            "Id": "21"
                                        },
                                        {
                                            "Score": 0.9605592,
                                            "Id": "22"
                                        },
                                        {
                                            "Score": 0.2548659,
                                            "Id": "23"
                                        },
                                        {
                                            "Score": 0.5102458,
                                            "Id": "24"
                                        },
                                        {
                                            "Score": 0.4218179,
                                            "Id": "25"
                                        },
                                        {
                                            "Score": 0.1513886,
                                            "Id": "26"
                                        },
                                        {
                                            "Score": 0.8863059,
                                            "Id": "27"
                                        },
                                        {
                                            "Score": 0.9595467,
                                            "Id": "28"
                                        },
                                        {
                                            "Score": 0.8587949,
                                            "Id": "29"
                                        },
                                        {
                                            "Score": 0.9381433,
                                            "Id": "30"
                                        },
                                        {
                                            "Score": 0.9212135,
                                            "Id": "31"
                                        },
                                        {
                                            "Score": 0.6342673,
                                            "Id": "32"
                                        },
                                        {
                                            "Score": 0.4488745,
                                            "Id": "33"
                                        },
                                        {
                                            "Score": 0.6664366,
                                            "Id": "34"
                                        },
                                        {
                                            "Score": 0.67562,
                                            "Id": "35"
                                        },
                                        {
                                            "Score": 0.8673986,
                                            "Id": "36"
                                        },
                                        {
                                            "Score": 0.7981437,
                                            "Id": "37"
                                        },
                                        {
                                            "Score": 0.6423413,
                                            "Id": "38"
                                        },
                                        {
                                            "Score": 0.08577178,
                                            "Id": "39"
                                        },
                                        {
                                            "Score": 0.2171714,
                                            "Id": "40"
                                        },
                                        {
                                            "Score": 0.5098778,
                                            "Id": "41"
                                        },
                                        {
                                            "Score": 0.6424491,
                                            "Id": "42"
                                        },
                                        {
                                            "Score": 0.8183878,
                                            "Id": "43"
                                        },
                                        {
                                            "Score": 0.49998,
                                            "Id": "44"
                                        },
                                        {
                                            "Score": 0.3473494,
                                            "Id": "45"
                                        },
                                        {
                                            "Score": 0.1941123,
                                            "Id": "46"
                                        },
                                        {
                                            "Score": 0.6015095,
                                            "Id": "47"
                                        },
                                        {
                                            "Score": 0.3883416,
                                            "Id": "48"
                                        },
                                        {
                                            "Score": 0.5998835,
                                            "Id": "49"
                                        },
                                        {
                                            "Score": 0.7776266,
                                            "Id": "50"
                                        },
                                        {
                                            "Score": 0.8377517,
                                            "Id": "51"
                                        },
                                        {
                                            "Score": 0.6379274,
                                            "Id": "52"
                                        },
                                        {
                                            "Score": 0.3899113,
                                            "Id": "53"
                                        },
                                        {
                                            "Score": 0.08511835,
                                            "Id": "54"
                                        },
                                        {
                                            "Score": 0.2211023,
                                            "Id": "55"
                                        },
                                        {
                                            "Score": 0.430268,
                                            "Id": "56"
                                        },
                                        {
                                            "Score": 0.5077937,
                                            "Id": "57"
                                        },
                                        {
                                            "Score": 0.4417144,
                                            "Id": "58"
                                        },
                                        {
                                            "Score": 0.8079956,
                                            "Id": "59"
                                        },
                                        {
                                            "Score": 0.8362607,
                                            "Id": "60"
                                        },
                                        {
                                            "Score": 0.7363976,
                                            "Id": "61"
                                        },
                                        {
                                            "Score": 0.537067,
                                            "Id": "62"
                                        },
                                        {
                                            "Score": 0.8326485,
                                            "Id": "63"
                                        },
                                        {
                                            "Score": 0.6015095,
                                            "Id": "64"
                                        },
                                        {
                                            "Score": 0.5251244,
                                            "Id": "65"
                                        },
                                        {
                                            "Score": 0.4417144,
                                            "Id": "66"
                                        },
                                        {
                                            "Score": 0.351385,
                                            "Id": "67"
                                        },
                                        {
                                            "Score": 0.9895761,
                                            "Id": "68"
                                        },
                                        {
                                            "Score": 0.7392629,
                                            "Id": "69"
                                        },
                                        {
                                            "Score": 0.4962874,
                                            "Id": "70"
                                        },
                                        {
                                            "Score": 0.4938215,
                                            "Id": "71"
                                        },
                                        {
                                            "Score": 0.9360221,
                                            "Id": "72"
                                        },
                                        {
                                            "Score": 0.4845487,
                                            "Id": "73"
                                        },
                                        {
                                            "Score": 0.7106997,
                                            "Id": "74"
                                        },
                                        {
                                            "Score": 0.4203858,
                                            "Id": "75"
                                        },
                                        {
                                            "Score": 0.9360091,
                                            "Id": "76"
                                        },
                                        {
                                            "Score": 0.8481152,
                                            "Id": "77"
                                        },
                                        {
                                            "Score": 0.3261926,
                                            "Id": "78"
                                        },
                                        {
                                            "Score": 0.5152912,
                                            "Id": "79"
                                        },
                                        {
                                            "Score": 0.6565138,
                                            "Id": "80"
                                        },
                                        {
                                            "Score": 0.4623024,
                                            "Id": "81"
                                        },
                                        {
                                            "Score": 0.3922786,
                                            "Id": "82"
                                        },
                                        {
                                            "Score": 0.7032184,
                                            "Id": "83"
                                        },
                                        {
                                            "Score": 0.7777393,
                                            "Id": "84"
                                        },
                                        {
                                            "Score": 0.5742577,
                                            "Id": "85"
                                        },
                                        {
                                            "Score": 0.8698088,
                                            "Id": "86"
                                        },
                                        {
                                            "Score": 0.5152912,
                                            "Id": "87"
                                        },
                                        {
                                            "Score": 0.3208487,
                                            "Id": "88"
                                        },
                                        {
                                            "Score": 0.941363,
                                            "Id": "89"
                                        },
                                        {
                                            "Score": 0.2553792,
                                            "Id": "90"
                                        },
                                        {
                                            "Score": 0.98291,
                                            "Id": "91"
                                        },
                                        {
                                            "Score": 0.6488072,
                                            "Id": "92"
                                        },
                                        {
                                            "Score": 0.4871339,
                                            "Id": "93"
                                        },
                                        {
                                            "Score": 0.6563994,
                                            "Id": "94"
                                        },
                                        {
                                            "Score": 0.8900141,
                                            "Id": "95"
                                        },
                                        {
                                            "Score": 0.692646,
                                            "Id": "96"
                                        },
                                        {
                                            "Score": 0.59603,
                                            "Id": "97"
                                        },
                                        {
                                            "Score": 0.7549369,
                                            "Id": "98"
                                        },
                                        {
                                            "Score": 0.0569035,
                                            "Id": "99"
                                        },
                                        {
                                            "Score": 0.7097112,
                                            "Id": "100"
                                        },
                                        {
                                            "Score": 0.6774431,
                                            "Id": "101"
                                        },
                                        {
                                            "Score": 0.8557307,
                                            "Id": "102"
                                        },
                                        {
                                            "Score": 0.4926963,
                                            "Id": "103"
                                        },
                                        {
                                            "Score": 0.1792077,
                                            "Id": "104"
                                        },
                                        {
                                            "Score": 0.3597542,
                                            "Id": "105"
                                        },
                                        {
                                            "Score": 0.5693159,
                                            "Id": "106"
                                        },
                                        {
                                            "Score": 0.8965769,
                                            "Id": "107"
                                        },
                                        {
                                            "Score": 0.9445866,
                                            "Id": "108"
                                        },
                                        {
                                            "Score": 0.468841,
                                            "Id": "109"
                                        },
                                        {
                                            "Score": 0.7045319,
                                            "Id": "110"
                                        },
                                        {
                                            "Score": 0.9094082,
                                            "Id": "111"
                                        },
                                        {
                                            "Score": 0.2022197,
                                            "Id": "112"
                                        },
                                        {
                                            "Score": 0.5648956,
                                            "Id": "113"
                                        },
                                        {
                                            "Score": 0.5648956,
                                            "Id": "114"
                                        },
                                        {
                                            "Score": 0.184929,
                                            "Id": "115"
                                        },
                                        {
                                            "Score": 0.4143322,
                                            "Id": "116"
                                        },
                                        {
                                            "Score": 0.9257324,
                                            "Id": "117"
                                        },
                                        {
                                            "Score": 0.5648956,
                                            "Id": "118"
                                        },
                                        {
                                            "Score": 0.5648956,
                                            "Id": "119"
                                        },
                                        {
                                            "Score": 0.9241434,
                                            "Id": "120"
                                        },
                                        {
                                            "Score": 0.3488877,
                                            "Id": "121"
                                        },
                                        {
                                            "Score": 0.4478668,
                                            "Id": "122"
                                        },
                                        {
                                            "Score": 0.4606689,
                                            "Id": "123"
                                        },
                                        {
                                            "Score": 0.9448623,
                                            "Id": "124"
                                        },
                                        {
                                            "Score": 0.8243946,
                                            "Id": "125"
                                        },
                                        {
                                            "Score": 0.9092355,
                                            "Id": "126"
                                        },
                                        {
                                            "Score": 0.7278613,
                                            "Id": "127"
                                        },
                                        {
                                            "Score": 0.1119568,
                                            "Id": "128"
                                        }
                                    ],
                                    "Errors": []
                                    }

            function getAverage(x) {

                var count = 0;
                var sum = 0;
                batch = x.SentimentBatch;
                for (i = 0; i < batch.length; i++) {
                    console.log(batch[i]);
                    count += batch[i].Score;
                    sum++;
                }
                var average = count/sum;
                console.log(average)
                return average;
            }

            console.log(sentimentJSON);
            getAverage(sentimentJSON);
        </script>
    </head>

    <body>
        <h1>WOO PARTY</h1>
        <p id="demo">A Paragraph. and the average is = </p>
        <button type="button" onclick="myFunction()">Try it</button>
    </body>
</html>
